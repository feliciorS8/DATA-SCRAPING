<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Scraping Detik</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --news-accent-1: linear-gradient(135deg, #e8f5e9, #b9f6ca);
            --news-accent-2: linear-gradient(135deg, #e3f2fd, #bbdefb);
            --news-border: #dfe6e9;
        }

        body {
            background: #f6f8fb;
        }

        .news-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .news-card {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border-radius: 14px;
            border: 1px solid var(--news-border);
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.06);
            background: var(--news-accent-1);
        }

        .news-card.news-card--alt {
            background: var(--news-accent-2);
        }

        .news-thumb {
            width: 220px;
            flex-shrink: 0;
            border-radius: 10px;
            overflow: hidden;
            background: #dfe6e9;
        }

        .news-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .news-content {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
            justify-content: center;
        }

        .news-title {
            font-size: 1.05rem;
            font-weight: 700;
            color: #0d47a1;
            text-decoration: none;
        }

        .news-title:hover {
            text-decoration: underline;
        }

        .news-meta {
            font-size: 0.9rem;
            color: #546e7a;
        }

        .news-summary {
            margin: 0;
            color: #37474f;
        }

        @media (max-width: 768px) {
            .news-card {
                flex-direction: column;
            }

            .news-thumb {
                width: 100%;
                height: 220px;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">Scraping</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/detik-populer">Detik Populer</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="news-list">
            {% for image in images %}
            {% set anchor = image.find('a') %}
            {% set img_tag = anchor.find('img') if anchor else None %}
            {% set link = anchor['href'] if anchor else '#' %}
            {% set title = img_tag['title'] if img_tag and img_tag.has_attr('title') else 'Tanpa judul' %}
            {% set thumb = img_tag['src'] if img_tag and img_tag.has_attr('src') else '' %}
            {% set date_block = image.find('div', {'class': 'media__date'}) %}
            {% set date_text = date_block.get_text(strip=True) if date_block else '' %}
            {% set summary_block = image.find('div', {'class': 'media__text'}) %}
            {% set summary = summary_block.get_text(strip=True) if summary_block else '' %}

            <article class="news-card {{ 'news-card--alt' if loop.index0 % 2 else '' }}">
                <div class="news-thumb">
                    {% if thumb %}
                    <img src="{{ thumb }}" alt="{{ title }}">
                    {% endif %}
                </div>
                <div class="news-content">
                    <div class="news-meta">#{{ loop.index }} {{ date_text }}</div>
                    <a href="{{ link }}" class="news-title" target="_blank" rel="noopener noreferrer">
                        {{ title }}
                    </a>
                    {% if summary %}
                    <p class="news-summary">{{ summary }}</p>
                    {% endif %}
                </div>
            </article>
            {% endfor %}
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>
